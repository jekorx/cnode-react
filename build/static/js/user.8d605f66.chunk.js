webpackJsonp([3],{271:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(300);t.default=r.a},300:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,o){try{var i=t[a](o),c=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}return r("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u,s,l,f,p=n(103),h=(n.n(p),n(104)),m=n.n(h),y=n(42),b=n.n(y),d=n(106),g=(n.n(d),n(107)),v=n.n(g),_=n(0),w=n.n(_),E=n(9),O=n(8),T=n(1),j=n.n(T),R=n(63),k=n(108),P=n(109),S=n(301),N=n(302),q=n(303),C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),x=(u=Object(E.inject)("_GV_"))(s=Object(E.observer)((f=l=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={dataSource:new v.a.DataSource({rowHasChanged:function(e,t){return e.id!==t.id||e.loginname!==t.loginname}}),name:"",pageSize:14,height:0,showBackTop:!1,refreshing:!1},n.handleRefresh=function(){n.setState({refreshing:!0},n.queryData)},n.handleScroll=function(e){n.setState({showBackTop:e.target.scrollTop>200})},n.handleBackTop=function(){n.setState({showBackTop:!1},function(){n.listViewRef.scrollTo(0)})},n.queryData=n.queryData.bind(n),n}return c(t,e),C(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match.params,n=e._GV_,r=n.headerHeight,a=n.setTitle,o=t.name;a({title:"@"+o+" \u7684\u4e2a\u4eba\u4e3b\u9875"}),this.setState({name:o,height:(document.documentElement.clientHeight||document.body.clientHeight)-r},this.queryData)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.match.params.name,r=t._GV_.setTitle;n!==e.match.params.name&&(r({title:"@"+n+" \u7684\u4e2a\u4eba\u4e3b\u9875"}),this.setState({name:n},this.queryData))}},{key:"queryData",value:function(){function e(){return t.apply(this,arguments)}var t=a(b.a.mark(function e(){var t,n,a,o,i,c,u,s;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.name,e.next=3,R.a.get("user/"+t);case 3:return n=e.sent,e.next=6,R.a.get("topic_collect/"+t);case 6:a=e.sent,o=n.success,i=n.data,o&&(c=a.success&&a.data?a.data:[],u=this.state.dataSource,s=[{avatarUrl:i.avatar_url,createAt:i.create_at,githubUsername:i.githubUsername,loginname:i.loginname,score:i.score},{type:"RECENT_TITLE",title:"\u6700\u8fd1\u521b\u5efa\u7684\u8bdd\u9898",icon:"msg"}].concat(r(i.recent_topics),[{type:"RECENT_TITLE",title:"\u6700\u8fd1\u53c2\u4e0e\u7684\u8bdd\u9898",icon:"reply"}],r(i.recent_replies),[{type:"RECENT_TITLE",title:"\u6536\u85cf\u7684\u8bdd\u9898",icon:"collections"}],r(c)),this.setState({dataSource:u.cloneWithRows(s),refreshing:!1}));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"render",value:function(){var e=this,t=this.state,n=t.dataSource,r=t.height,a=t.showBackTop,o=t.refreshing,i=t.pageSize;return w.a.createElement(_.Fragment,null,w.a.createElement(v.a,{ref:function(t){e.listViewRef=t},dataSource:n,pageSize:i,style:{height:r,overflow:"auto"},onScroll:this.handleScroll,scrollEventThrottle:800,scrollRenderAheadDistance:400,pullToRefresh:w.a.createElement(m.a,{refreshing:o,onRefresh:this.handleRefresh,indicator:P.a}),renderRow:function(e,t,n){return 0===+n?w.a.createElement(S.a,{info:e}):"RECENT_TITLE"===e.type?w.a.createElement(q.a,{data:e}):w.a.createElement(N.a,{data:e})}}),w.a.createElement(k.a,{show:a,handleClick:this.handleBackTop}))}}]),t}(_.Component),l.propTypes={_GV_:j.a.shape({setTitle:j.a.func.isRequired,headerHeight:j.a.number.isRequired}).isRequired,match:j.a.shape({params:j.a.object.isRequired}).isRequired},s=f))||s)||s;t.a=Object(O.withRouter)(x)},301:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return g});var i,c,u=n(0),s=n.n(u),l=n(1),f=n.n(l),p=n(116),h=n(27),m=n(64),y=n(110),b=n.n(y),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=(c=i=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"render",value:function(){var e=this.props.info,t=e.avatarUrl,n=e.loginname,r=e.createAt,a=e.githubUsername,o=e.score;return s.a.createElement(u.Fragment,null,s.a.createElement(p.a,{name:n,avatar:t}),s.a.createElement("p",{className:b.a.text},s.a.createElement(h.a,{type:"score",className:b.a.icon}),o," \u79ef\u5206",s.a.createElement("a",{className:b.a.github,href:"https://github.com/"+a},s.a.createElement(h.a,{type:"github",className:b.a.icon}),a)),s.a.createElement("p",{className:b.a.text},"\u6ce8\u518c\u65f6\u95f4 ",Object(m.c)(r)))}}]),t}(u.PureComponent),i.propTypes={info:f.a.object.isRequired},c)},302:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return d});var i,c,u=n(0),s=n.n(u),l=n(1),f=n.n(l),p=n(8),h=n(110),m=n.n(h),y=n(64),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=(c=i=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),b(t,[{key:"render",value:function(){var e=this.props.data,t="/topic/"+e.id;return s.a.createElement(p.Link,{to:t,className:m.a.link},s.a.createElement("h3",{className:m.a.title},e.title),s.a.createElement("div",{className:m.a.bottom},s.a.createElement("span",{className:m.a.avatar,style:{backgroundImage:"url("+e.author.avatar_url+")"}}),s.a.createElement("div",{className:m.a.right},s.a.createElement("span",null,e.author.loginname),s.a.createElement("span",null,"\u6700\u540e\u56de\u590d ",Object(y.c)(e.last_reply_at)))))}}]),t}(u.PureComponent),i.propTypes={data:f.a.object.isRequired},c)},303:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return b});var i,c,u=n(0),s=n.n(u),l=n(1),f=n.n(l),p=n(27),h=n(110),m=n.n(h),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=(c=i=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"render",value:function(){var e=this.props.data,t=e.title,n=e.icon;return s.a.createElement("h3",{className:m.a.type},s.a.createElement(p.a,{type:n,className:m.a["type-icon"]}),s.a.createElement("span",{className:m.a["type-text"]},t))}}]),t}(u.PureComponent),i.propTypes={data:f.a.object.isRequired},c)}});